<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tỏ Tình Trong Vũ Trụ</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: radial-gradient(ellipse at center, #000 0%, #111 100%);
      font-family: 'Segoe UI', sans-serif;
      color: #fff;
    }
    canvas {
      display: block;
    }
    .text, .heart {
      position: absolute;
      pointer-events: none;
      will-change: transform, opacity;
    }
    .text {
      color: #fff;
      font-weight: bold;
      text-shadow: 0 0 12px rgba(255, 255, 255, 0.8);
      white-space: nowrap;
    }
    .heart svg {
      fill: #ff4d6d;
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>
  <canvas id="canvas"></canvas>
  <script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    const stars = Array.from({ length: 80 }, () => ({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height,
      r: Math.random() * 1.5 + 0.5,
      speed: Math.random() * 0.2 + 0.1
    }));

    const messages = [
      "Anh yêu em",
      "Diệp yêu Phương rất nhiều",
      "Em là tình yêu của anh",
      "Anh mãi bên em",
      "Phương là tất cả của Diệp",
      "Yêu em đến mãi mãi",
      "Em là ánh sáng của anh",
      "Trái tim anh thuộc về em",
      "Mỗi ngày anh yêu em hơn",
      "Em là giấc mơ của anh"
    ];

    const objects = messages.map(text => ({
      text,
      el: Object.assign(document.body.appendChild(document.createElement('div')), {
        className: 'text',
        textContent: text
      }),
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height,
      z: Math.random() * 200 + 100,
      vx: (Math.random() - 0.5) * 0.6,
      vy: (Math.random() - 0.5) * 0.6,
      vz: (Math.random() - 0.5) * 0.2
    }));

    const hearts = Array.from({ length: 12 }, () => {
      const el = document.createElement('div');
      el.className = 'heart';
      el.innerHTML = '<svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>';
      document.body.appendChild(el);
      return {
        el,
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        z: Math.random() * 200 + 100,
        vx: (Math.random() - 0.5) * 1.2,
        vy: (Math.random() - 0.5) * 1.2,
        vz: (Math.random() - 0.5) * 0.2
      };
    });

    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Stars
      ctx.fillStyle = '#fff';
      for (const s of stars) {
        ctx.beginPath();
        ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
        ctx.fill();
        s.y += s.speed;
        if (s.y > canvas.height) s.y = 0;
      }

      // Update text
      for (const obj of objects) {
        const scale = 200 / obj.z;
        const size = 16 + scale * 20;
        const opacity = Math.min(scale, 1);

        obj.x += obj.vx * scale;
        obj.y += obj.vy * scale;
        obj.z += obj.vz;

        if (obj.x < 0 || obj.x > canvas.width) obj.vx *= -1;
        if (obj.y < 0 || obj.y > canvas.height) obj.vy *= -1;
        if (obj.z < 100 || obj.z > 300) obj.vz *= -1;

        const el = obj.el;
        el.style.left = `${obj.x}px`;
        el.style.top = `${obj.y}px`;
        el.style.fontSize = `${size}px`;
        el.style.opacity = opacity;
      }

      // Update hearts
      for (const h of hearts) {
        const scale = 200 / h.z;
        const size = 18 + scale * 20;

        h.x += h.vx * scale;
        h.y += h.vy * scale;
        h.z += h.vz;

        if (h.x < 0 || h.x > canvas.width) h.vx *= -1;
        if (h.y < 0 || h.y > canvas.height) h.vy *= -1;
        if (h.z < 100 || h.z > 300) h.vz *= -1;

        const el = h.el;
        el.style.left = `${h.x}px`;
        el.style.top = `${h.y}px`;
        el.style.width = `${size}px`;
        el.style.height = `${size}px`;
        el.style.opacity = Math.min(scale, 1);
      }

      requestAnimationFrame(animate);
    }

    animate();
  </script>
</body>
</html>