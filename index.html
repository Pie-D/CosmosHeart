<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Romantic Starry Night</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Google Fonts: Great Vibes for romantic cursive font -->
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
  <!-- Anime.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: linear-gradient(to bottom, #0f0c29, #302b63, #24243e);
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    /* Starry background */
    .stars {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }

    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      opacity: 0.8;
      animation: twinkle 2s infinite alternate;
    }

    @keyframes twinkle {
      0% { opacity: 0.2; }
      100% { opacity: 0.8; }
    }

    /* Hearts */
    .heart {
      position: absolute;
      color: #ff4d4d;
      font-size: 1.5rem;
      text-shadow: 0 0 8px rgba(255, 77, 77, 0.8);
      pointer-events: none;
    }

    /* Falling hearts */
    .falling-heart {
      position: absolute;
      color: #ff4d4d;
      font-size: 1rem;
      text-shadow: 0 0 8px rgba(255, 77, 77, 0.8);
      pointer-events: none;
    }

    /* Romantic phrases */
    .phrase {
      position: absolute;
      color: #fff;
      font-family: 'Great Vibes', cursive;
      font-size: clamp(1.2rem, 3.5vw, 2rem);
      text-shadow: 0 0 12px rgba(255, 255, 255, 0.7), 0 0 20px rgba(255, 77, 77, 0.5);
      white-space: nowrap;
      pointer-events: none;
    }

    /* Centered heart */
    .center-heart {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 4rem;
      color: #ff4d4d;
      text-shadow: 0 0 15px rgba(255, 77, 77, 0.8);
      cursor: pointer;
      z-index: 100;
      transition: transform 0.3s ease;
    }

    .center-heart:hover {
      transform: translate(-50%, -50%) scale(1.1);
    }

    /* Message box */
    .message-box {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0, 0, 0, 0.7);
      padding: 1.5rem;
      border-radius: 12px;
      text-align: center;
      color: #fff;
      font-family: 'Great Vibes', cursive;
      font-size: 1.8rem;
      z-index: 101;
      display: none;
      box-shadow: 0 0 15px rgba(255, 77, 77, 0.5);
      max-width: 90%;
    }

    .message-box button {
      margin-top: 0.8rem;
      padding: 0.4rem 1.5rem;
      font-family: 'Great Vibes', cursive;
      font-size: 1.3rem;
      color: #fff;
      background: #ff4d4d;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .message-box button:hover {
      background: #e63939;
    }

    /* Responsive adjustments for iPhone 11 (~414px viewport width) */
    @media (max-width: 414px) {
      .phrase {
        font-size: clamp(0.9rem, 2.5vw, 1.2rem);
      }
      .heart {
        font-size: 1rem;
      }
      .falling-heart {
        font-size: 0.8rem;
      }
      .center-heart {
        font-size: 2.5rem;
      }
      .message-box {
        font-size: 1.2rem;
        padding: 1rem;
        max-width: 80%;
      }
      .message-box button {
        font-size: 1rem;
        padding: 0.3rem 1.2rem;
      }
    }

    /* 3D container for layering */
    .scene {
      position: relative;
      width: 100%;
      height: 100vh;
      perspective: 1000px;
    }
  </style>
</head>
<body>
  <div class="scene">
    <div class="stars"></div>
    <div class="container text-center">
      <div id="phrases"></div>
      <div id="hearts"></div>
      <div id="falling-hearts"></div>
      <div class="center-heart">♥</div>
      <div class="message-box" id="messageBox">
        <p>Em có đồng ý làm người yêu anh không?</p>
        <button id="yesButton">Có</button>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS and Popper.js -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Generate stars
    const starsContainer = document.querySelector('.stars');
    const numStars = 150; // Reduced for better performance on mobile

    for (let i = 0; i < numStars; i++) {
      const star = document.createElement('div');
      star.className = 'star';
      star.style.width = `${Math.random() * 2 + 1}px`;
      star.style.height = star.style.width;
      star.style.left = `${Math.random() * 100}vw`;
      star.style.top = `${Math.random() * 100}vh`;
      star.style.animationDelay = `${Math.random() * 2}s`;
      starsContainer.appendChild(star);
    }

    // Romantic phrases
    const phrases = [
      "Diệp yêu Phương",
      "Anh yêu em rất nhiều",
      "Em là cả thế giới của anh",
      "Tình yêu của anh dành cho em là vô tận",
      "Bên em là điều hạnh phúc nhất cuộc đời anh",
      "Phạm Hiểu Phương Anh yêu em",
      "Em là ánh sáng của cuộc đời anh",
      "Trái tim anh chỉ đập vì em",
      "Yêu em đến mãi mãi",
      "Em là giấc mơ ngọt ngào nhất của anh",
      "Anh sẽ mãi bên em, mãi mãi",
      "Em là ngôi sao sáng nhất của anh",
      "Tình yêu của chúng ta như bầu trời đêm",
      "Anh nguyện dành cả đời để yêu thương em",
      "Em là nhịp đập của trái tim anh",
      "Mỗi ngày bên em là một ngày hạnh phúc",
      "Anh yêu nụ cười của em",
      "Em là tất cả những gì anh mơ ước",
      "Tình yêu của anh là dành cho em mãi mãi",
      "Bên em, anh tìm thấy ý nghĩa cuộc đời",
      "Em là định mệnh của anh",
      "Yêu em là điều tuyệt vời nhất anh từng làm"
    ];

    const phrasesContainer = document.getElementById('phrases');
    phrases.forEach((text, index) => {
      const phrase = document.createElement('div');
      phrase.className = 'phrase';
      phrase.textContent = text;
      phrase.style.left = `${Math.random() * 100}vw`;
      phrase.style.top = `${Math.random() * 100}vh`;
      phrase.style.zIndex = Math.floor(Math.random() * 10);
      phrase.style.transform = `translateZ(${Math.random() * 150 - 75}px) scale(${0.6 + Math.random() * 0.3})`;
      phrasesContainer.appendChild(phrase);
    });

    // Generate hearts
    const heartsContainer = document.getElementById('hearts');
    const numHearts = 15; // Reduced for mobile performance

    for (let i = 0; i < numHearts; i++) {
      const heart = document.createElement('div');
      heart.className = 'heart';
      heart.innerHTML = '♥';
      heart.style.left = `${Math.random() * 100}vw`;
      heart.style.top = `${Math.random() * 100}vh`;
      heart.style.zIndex = Math.floor(Math.random() * 10);
      heart.style.transform = `translateZ(${Math.random() * 150 - 75}px) scale(${0.4 + Math.random() * 0.4})`;
      heart.style.opacity = 0.7 + Math.random() * 0.3;
      heartsContainer.appendChild(heart);
    }

    // Animate phrases
    document.querySelectorAll('.phrase').forEach(phrase => {
      anime({
        targets: phrase,
        translateX: () => anime.random(-150, 150),
        translateY: () => anime.random(-150, 150),
        translateZ: () => anime.random(-75, 75),
        duration: () => anime.random(10000, 20000),
        easing: 'easeInOutSine',
        direction: 'alternate',
        loop: true
      });
    });

    // Animate hearts
    document.querySelectorAll('.heart').forEach(heart => {
      anime({
        targets: heart,
        translateX: () => anime.random(-100, 100),
        translateY: () => anime.random(-100, 100),
        translateZ: () => anime.random(-75, 75),
        duration: () => anime.random(8000, 15000),
        easing: 'easeInOutQuad',
        direction: 'alternate',
        loop: true
      });
    });

    // Center heart interaction
    const centerHeart = document.querySelector('.center-heart');
    const messageBox = document.getElementById('messageBox');
    const yesButton = document.getElementById('yesButton');
    const fallingHeartsContainer = document.getElementById('falling-hearts');

    centerHeart.addEventListener('click', () => {
      centerHeart.style.display = 'none';
      messageBox.style.display = 'block';
      anime({
        targets: messageBox,
        scale: [0, 1],
        opacity: [0, 1],
        duration: 1000,
        easing: 'easeOutElastic(1, .6)'
      });
    });

    // Continuous falling hearts effect
    let isRaining = false;
    function createHeartBatch() {
      if (!isRaining) return;
      const numHeartsPerBatch = 8; // Reduced for iPhone 11 performance
      for (let i = 0; i < numHeartsPerBatch; i++) {
        const heart = document.createElement('div');
        heart.className = 'falling-heart';
        heart.innerHTML = '♥';
        heart.style.left = `${Math.random() * 100}vw`;
        heart.style.top = `-${Math.random() * 20}vh`;
        heart.style.opacity = 0.7 + Math.random() * 0.3;
        fallingHeartsContainer.appendChild(heart);

        anime({
          targets: heart,
          translateY: '100vh',
          translateX: () => anime.random(-30, 30),
          rotate: () => anime.random(-45, 45),
          duration: () => anime.random(2000, 4000),
          easing: 'easeInQuad',
          complete: () => heart.remove()
        });
      }
    }

    yesButton.addEventListener('click', () => {
      messageBox.style.display = 'none';
      isRaining = true;
      createHeartBatch(); // Start immediately
      setInterval(createHeartBatch, 1200); // Slightly slower interval for mobile
    });
  </script>
</body>
</html>